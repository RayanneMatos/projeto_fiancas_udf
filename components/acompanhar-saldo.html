<section id="acompanhar-saldo" class="mt-5">
    <h2>Acompanhar Saldo</h2>
    <div id="saldo" class="mb-4">
        <h4>Saldo Total: <span id="saldoTotal">R$ 0,00</span></h4>
    </div>

    <h4>Receitas</h4>
    <ul id="listaReceitas" class="list-group mb-4"></ul>

    <h4>Despesas</h4>
    <ul id="listaDespesas" class="list-group mb-4"></ul>

    <div id="feedbackSaldo" class="alert alert-info" style="display:none;">
        Nenhuma receita ou despesa cadastrada.
    </div>
</section>

<script>
    // Variáveis para armazenar receitas e despesas
    var receitas = [];
    var despesas = [];

    // Função para atualizar o saldo
    function atualizarSaldo() {
        var totalReceitas = receitas.reduce((total, receita) => total + receita.valor, 0);
        var totalDespesas = despesas.reduce((total, despesa) => total + despesa.valor, 0);
        var saldoTotal = totalReceitas - totalDespesas;

        document.getElementById('saldoTotal').innerText = `R$ ${saldoTotal.toFixed(2)}`;

        // Atualizar listas
        atualizarListas();

        // Exibir feedback se não houver receitas ou despesas
        if (receitas.length === 0 && despesas.length === 0) {
            document.getElementById('feedbackSaldo').style.display = 'block';
        } else {
            document.getElementById('feedbackSaldo').style.display = 'none';
        }
    }

    // Função para atualizar listas de receitas e despesas
    function atualizarListas() {
        var listaReceitas = document.getElementById('listaReceitas');
        var listaDespesas = document.getElementById('listaDespesas');

        // Limpar listas antes de atualizar
        listaReceitas.innerHTML = '';
        listaDespesas.innerHTML = '';

        // Adicionar receitas à lista
        receitas.forEach(receita => {
            var li = document.createElement('li');
            li.className = 'list-group-item';
            li.innerText = `${receita.descricao}: R$ ${receita.valor.toFixed(2)}`;
            listaReceitas.appendChild(li);
        });

        // Adicionar despesas à lista
        despesas.forEach(despesa => {
            var li = document.createElement('li');
            li.className = 'list-group-item';
            li.innerText = `${despesa.descricao}: R$ ${despesa.valor.toFixed(2)}`;
            listaDespesas.appendChild(li);
        });
    }

    // Funções para cadastrar receita e despesa
    function cadastrarReceita() {
        var descricao = document.getElementById('descricaoReceita').value;
        var valor = parseFloat(document.getElementById('valorReceita').value);

        if (descricao === "" || isNaN(valor) || valor <= 0) {
            alert("Por favor, preencha todos os campos corretamente.");
            return;
        }

        // Adicionar receita ao array
        receitas.push({ descricao: descricao, valor: valor });
        atualizarSaldo();

        // Limpar campos
        document.getElementById('formReceita').reset();
    }

    function cadastrarDespesa() {
        var descricao = document.getElementById('descricaoDespesa').value;
        var valor = parseFloat(document.getElementById('valorDespesa').value);

        if (descricao === "" || isNaN(valor) || valor <= 0) {
            alert("Por favor, preencha todos os campos corretamente.");
            return;
        }

        // Adicionar despesa ao array
        despesas.push({ descricao: descricao, valor: valor });
        atualizarSaldo();

        // Limpar campos
        document.getElementById('formDespesa').reset();
    }
</script>
